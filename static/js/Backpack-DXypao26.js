import{a as f}from"./axios-CrXtlGzW.js";import{b as q,I as z,_ as E,m as j,r as $,o as B,n as L,t as O,c as I,a as y,F as C,y as S,A as i,w as m,z as r,f as h,g as o,i as d,d as p,p as x,h as M}from"./index-DozBL6zX.js";import{i as P,t as U,a as D}from"./transItemText-Cd9z0D57.js";var N={icon:function(n,a){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:n}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zM288 421a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm224 272c-85.5 0-155.6-67.3-160-151.6a8 8 0 018-8.4h48.1c4.2 0 7.8 3.2 8.1 7.4C420 589.9 461.5 629 512 629s92.1-39.1 95.8-88.6c.3-4.2 3.9-7.4 8.1-7.4H664a8 8 0 018 8.4C667.6 625.7 597.5 693 512 693zm176-224a48.01 48.01 0 010-96 48.01 48.01 0 010 96z",fill:a}},{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm376 112h-48.1c-4.2 0-7.8 3.2-8.1 7.4-3.7 49.5-45.3 88.6-95.8 88.6s-92-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4zm-24-112a48 48 0 1096 0 48 48 0 10-96 0z",fill:n}}]}},name:"smile",theme:"twotone"};function T(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?Object(arguments[n]):{},s=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable}))),s.forEach(function(u){K(e,u,a[u])})}return e}function K(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}var w=function(n,a){var s=T({},n,a.attrs);return q(z,T({},s,{icon:N}),null)};w.displayName="SmileTwoTone";w.inheritAttrs=!1;const _={getInfo:e=>f("postjson","/getBackpackInfo",e),postEquipItem:e=>f("postjson","/postEquipItem",e),postUnEquipItem:e=>f("postjson","/postUnEquipItem",e),postUseItem:e=>f("postjson","/postUseItem",e),postDissolveItem:e=>f("postjson","/postDissolveItem",e)},V=[{name:"all",key:"all"},{name:"item",key:"item"},{name:"weapon",key:"weapon"},{name:"armor",key:"armor"},{name:"ornament",key:"ornament"},{name:"mission",key:"mission"}],A={name:"Backpack",components:{iconfont:P},setup(){const{t:e,locale:n}=j(),a=$({menuList:V,selectedKeys:["all"],backpack:[]});B(async()=>{g(),await s()});const s=async()=>{let t=await _.getInfo({uid:sessionStorage.getItem("uid"),type:a.selectedKeys[0]});a.backpack=t.data.map(c=>({...c,attr:U(c.attr),typeText:D(c.type)})),console.log(a.backpack)},u=async t=>{await _.postDissolveItem({id:t.id,uid:sessionStorage.getItem("uid")}),await s()},v=async t=>{await _.postEquipItem({id:t.id,uid:sessionStorage.getItem("uid"),type:t.type}),await s()},b=async t=>{await _.postUnEquipItem({id:t.id,uid:sessionStorage.getItem("uid"),type:t.type}),await s()},k=async t=>{await _.postUseItem({id:t.id}),await s()},l=async(t,c,ee)=>{a.selectedKeys=[t.key],await s()};L(n,()=>{g()},{deep:!0});const g=()=>{for(let t in a.menuList){let c=e(a.menuList[t].key);a.menuList[t].label=c,a.menuList[t].title=c}};return{...O(a),equipItem:v,unEquipItem:b,useItem:k,menuClick:l,SmileTwoTone:w,dissolveItem:u}}},F=e=>(x("data-v-49d2b094"),e=e(),M(),e),H={class:"backpack"},R={class:"content"},G={class:"items"},J={class:"name"},Q={class:"attr"},W=F(()=>y("span",{class:"br"}," - ",-1)),X={class:"status"},Y=d(" E ");function Z(e,n,a,s,u,v){const b=h("a-menu"),k=h("iconfont"),l=h("a-button"),g=h("a-result");return o(),I("div",H,[q(b,{selectedKeys:e.selectedKeys,mode:"horizontal",items:e.menuList,onClick:s.menuClick},null,8,["selectedKeys","items","onClick"]),y("div",R,[(o(!0),I(C,null,S(e.backpack,t=>(o(),I("div",G,[y("p",J,[t.type==="2"?(o(),i(k,{key:0,type:"wx-attacker1"})):r("",!0),t.type==="3"?(o(),i(k,{key:1,type:"wx-clothes"})):r("",!0),t.type==="4"?(o(),i(k,{key:2,type:"wx-jiezhi1"})):r("",!0),d(" "+p(t.name),1)]),y("p",null,[(o(!0),I(C,null,S(t.attr,c=>(o(),I("span",Q,[W,y("span",null,p(c.nameText)+": "+p(c.desc),1)]))),256))]),y("p",X,[t.status==="1"?(o(),i(l,{key:0,type:"primary",onClick:c=>s.useItem(t)},{default:m(()=>[d(p(e.$t("use")),1)]),_:2},1032,["onClick"])):r("",!0),t.status==="2"?(o(),i(l,{key:1,type:"primary",onClick:c=>s.equipItem(t)},{default:m(()=>[d(p(e.$t("equip")),1)]),_:2},1032,["onClick"])):r("",!0),t.status==="2"?(o(),i(l,{key:2,type:"primary",style:{"margin-left":"10px"},onClick:c=>s.dissolveItem(t)},{default:m(()=>[d(p(e.$t("dissolve")),1)]),_:2},1032,["onClick"])):r("",!0),t.status==="21"?(o(),i(l,{key:3,type:"text",disabled:""},{default:m(()=>[Y]),_:1})):r("",!0),t.status==="11"?(o(),i(l,{key:4,type:"primary",disabled:""},{default:m(()=>[d(p(e.$t("used")),1)]),_:1})):r("",!0),t.status==="21"?(o(),i(l,{key:5,type:"primary",style:{"margin-left":"5px"},onClick:c=>s.unEquipItem(t)},{default:m(()=>[d(p(e.$t("equiped")),1)]),_:2},1032,["onClick"])):r("",!0)])]))),256)),e.backpack.length===0?(o(),i(g,{key:0,title:e.$t("noItem")},{icon:m(()=>[]),_:1},8,["title"])):r("",!0)])])}const ne=E(A,[["render",Z],["__scopeId","data-v-49d2b094"]]);export{ne as default};
//# sourceMappingURL=Backpack-DXypao26.js.map
