import{a as _}from"./axios-DWa7EUUt.js";import{b as T,I as q,_ as E,m as z,r as $,o as B,n as L,t as O,c as y,a as d,F as v,D as C,A as p,w as u,E as m,f as b,g as c,d as r,i as k,p as j,h as M}from"./index-5TXyK_ez.js";import{t as P,a as U}from"./transItemText-6-xW7tNd.js";var N={icon:function(s,a){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:s}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zM288 421a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm224 272c-85.5 0-155.6-67.3-160-151.6a8 8 0 018-8.4h48.1c4.2 0 7.8 3.2 8.1 7.4C420 589.9 461.5 629 512 629s92.1-39.1 95.8-88.6c.3-4.2 3.9-7.4 8.1-7.4H664a8 8 0 018 8.4C667.6 625.7 597.5 693 512 693zm176-224a48.01 48.01 0 010-96 48.01 48.01 0 010 96z",fill:a}},{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm376 112h-48.1c-4.2 0-7.8 3.2-8.1 7.4-3.7 49.5-45.3 88.6-95.8 88.6s-92-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4zm-24-112a48 48 0 1096 0 48 48 0 10-96 0z",fill:s}}]}},name:"smile",theme:"twotone"};function S(e){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?Object(arguments[s]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable}))),n.forEach(function(i){x(e,i,a[i])})}return e}function x(e,s,a){return s in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}var h=function(s,a){var n=S({},s,a.attrs);return T(q,S({},n,{icon:N}),null)};h.displayName="SmileTwoTone";h.inheritAttrs=!1;const I={getInfo:e=>_("postjson","/getBackpackInfo",e),postEquipItem:e=>_("postjson","/postEquipItem",e),postUnEquipItem:e=>_("postjson","/postUnEquipItem",e),postUseItem:e=>_("postjson","/postUseItem",e)},K=[{name:"all",key:"all"},{name:"item",key:"item"},{name:"weapon",key:"weapon"},{name:"armor",key:"armor"},{name:"ornament",key:"ornament"},{name:"mission",key:"mission"}],V={name:"Backpack",setup(){const{t:e,locale:s}=z(),a=$({menuList:K,selectedKeys:["all"],backpack:[]});B(async()=>{f(),await n()});const n=async()=>{let t=await I.getInfo({uid:sessionStorage.getItem("uid"),type:a.selectedKeys[0]});a.backpack=t.data.map(o=>({...o,attr:P(o.attr),typeText:U(o.type)})),console.log(a.backpack)},i=async t=>{await I.postEquipItem({id:t.id,uid:sessionStorage.getItem("uid"),type:t.type}),await n()},w=async t=>{await I.postUnEquipItem({id:t.id,uid:sessionStorage.getItem("uid"),type:t.type}),await n()},g=async t=>{await I.postUseItem({id:t.id}),await n()},l=async(t,o,Y)=>{a.selectedKeys=[t.key],await n()};L(s,()=>{f()},{deep:!0});const f=()=>{for(let t in a.menuList){let o=e(a.menuList[t].key);a.menuList[t].label=o,a.menuList[t].title=o}};return{...O(a),equipItem:i,unEquipItem:w,useItem:g,menuClick:l,SmileTwoTone:h}}},D=e=>(j("data-v-1b659a18"),e=e(),M(),e),A={class:"backpack"},F={class:"content"},H={class:"items"},R={class:"name"},G={class:"attr"},J=D(()=>d("span",{class:"br"}," - ",-1)),Q={class:"status"},W=k(" E ");function X(e,s,a,n,i,w){const g=b("a-menu"),l=b("a-button"),f=b("a-result");return c(),y("div",A,[T(g,{selectedKeys:e.selectedKeys,mode:"horizontal",items:e.menuList,onClick:n.menuClick},null,8,["selectedKeys","items","onClick"]),d("div",F,[(c(!0),y(v,null,C(e.backpack,t=>(c(),y("div",H,[d("p",R,r(t.name),1),(c(!0),y(v,null,C(t.attr,o=>(c(),y("p",G,[J,d("span",null,r(o.nameText)+": "+r(o.desc),1)]))),256)),d("p",null,r(e.$t("itemTpye"))+"ï¼š"+r(t.typeText),1),d("p",Q,[t.status==="1"?(c(),p(l,{key:0,type:"primary",onClick:o=>n.useItem(t)},{default:u(()=>[k(r(e.$t("use")),1)]),_:2},1032,["onClick"])):m("",!0),t.status==="2"?(c(),p(l,{key:1,type:"primary",onClick:o=>n.equipItem(t)},{default:u(()=>[k(r(e.$t("equip")),1)]),_:2},1032,["onClick"])):m("",!0),t.status==="21"?(c(),p(l,{key:2,type:"text",disabled:""},{default:u(()=>[W]),_:1})):m("",!0),t.status==="11"?(c(),p(l,{key:3,type:"primary",disabled:""},{default:u(()=>[k(r(e.$t("used")),1)]),_:1})):m("",!0),t.status==="21"?(c(),p(l,{key:4,type:"primary",style:{"margin-left":"5px"},onClick:o=>n.unEquipItem(t)},{default:u(()=>[k(r(e.$t("equiped")),1)]),_:2},1032,["onClick"])):m("",!0)])]))),256)),e.backpack.length===0?(c(),p(f,{key:0,title:e.$t("noItem")},{icon:u(()=>[]),_:1},8,["title"])):m("",!0)])])}const ae=E(V,[["render",X],["__scopeId","data-v-1b659a18"]]);export{ae as default};
//# sourceMappingURL=Backpack-Bm_Diryw.js.map
