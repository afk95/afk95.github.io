{"version":3,"file":"Fight-C6R77Djs.js","sources":["../../../src/assets/api/fightApi.js","../../../src/components/fight/FightModal.vue","../../../src/assets/config/baseConfig.js","../../../src/components/fight/FightModal_new.vue","../../../src/components/fight/Monster.vue","../../../src/views/fight/Fight.vue"],"sourcesContent":["import axios from \"@/assets/api/axios.js\";\n\nconst api = {\n    toRole: (params) => axios(\"postjson\", \"/fightToRole\", params), // 和玩家对战\n    toMonster: (params) => axios(\"postjson\", \"/fightToMonster\", params), // 和monster对战\n    toBoss: (params) => axios(\"postjson\", \"/fightToBoss\", params), // 和boss对战\n\n    toImitMonster: (params) => axios(\"postjson\", \"/fightToImitMonster\", params), // 和monster对战\n    toImitBoss: (params) => axios(\"postjson\", \"/fightToImitBoss\", params), // 和monster对战\n};\nexport default api;\n","<template>\n    <a-modal\n        v-model:open=\"modalVisible\"\n        :title=\"$t('battleLog')\"\n        width=\"1024px\"\n    >\n        <p>结果：{{ fightLog[fightLog.length - 1].sub }} 胜</p>\n        <span>战利品：</span>\n        <span v-if=\"spoils.length === 0\">无</span>\n        <template v-else>\n            <span v-for=\"item in spoils\" style=\"margin-right: 5px\">\n                {{ item.name }}\n            </span>\n        </template>\n        <template #footer>\n            <a-button type=\"primary\" @click=\"submit\" @cancel=\"submit\">\n                关闭\n            </a-button>\n        </template>\n        <div class=\"LogContent\">\n            <div class=\"logs\" v-for=\"(item, index) in fightLogRender\">\n                <p>{{ $t(\"round\") }} {{ index + 1 }}</p>\n                <div class=\"logsItem\">\n                    <div class=\"sub\">\n                        <span>{{ item.sub }}</span>\n                        <span class=\"oriHp\">\n                            <span\n                                class=\"hp\"\n                                :style=\"`width: ${item.aggressor.hpPercent}px`\"\n                            >\n                            </span>\n                        </span>\n                        <span>{{ item.aggressor.hpPercent }}%</span>\n                        <span>\n                            hp:\n                            {{ item.aggressor.hp }}/{{ item.aggressor.oriHp }}\n                        </span>\n                        <span>\n                            {{ $t(\"waigong\") }}:\n                            {{ item.aggressor.waigong }}\n                        </span>\n                        <span>\n                            {{ $t(\"neigong\") }}: {{ item.aggressor.neigong }}\n                        </span>\n                        <span>\n                            {{ $t(\"waifang\") }}:\n                            {{ item.aggressor.waifang }}\n                        </span>\n                        <span>\n                            {{ $t(\"neifang\") }}:\n                            {{ item.aggressor.neifang }}\n                        </span>\n                        <span>\n                            {{ $t(\"huixin\") }}: {{ item.aggressor.huixin }}\n                        </span>\n                        <span>\n                            {{ $t(\"huishang\") }}:\n                            {{ item.aggressor.huishang }}\n                        </span>\n                        <span>\n                            {{ $t(\"renxing\") }}: {{ item.aggressor.renxing }}\n                        </span>\n                    </div>\n                    <div class=\"detail\">\n                        {{ item.aggressor.nickname }} 对\n                        {{ item.victim.nickname }} 造成了 {{ item.damage }}点\n                        {{ item.crit ? \"暴击伤害\" : \"伤害\" }}\n                    </div>\n                    <div class=\"obj\">\n                        <span>{{ item.obj }}</span>\n                        <span class=\"oriHp\">\n                            <span\n                                class=\"hp\"\n                                :style=\"`width: ${item.victim.hpPercent}px`\"\n                            >\n                            </span>\n                        </span>\n                        <span>{{ item.victim.hpPercent }}</span>\n                        <span>\n                            hp: {{ item.victim.hp }}/{{ item.victim.oriHp }}\n                        </span>\n                        <span>\n                            {{ $t(\"waigong\") }}: {{ item.victim.waigong }}\n                        </span>\n                        <span>\n                            {{ $t(\"neigong\") }}: {{ item.victim.neigong }}\n                        </span>\n                        <span>\n                            {{ $t(\"waifang\") }}: {{ item.victim.waifang }}\n                        </span>\n                        <span>\n                            {{ $t(\"neifang\") }}: {{ item.victim.neifang }}\n                        </span>\n                        <span>\n                            {{ $t(\"huixin\") }}: {{ item.victim.huixin }}\n                        </span>\n                        <span>\n                            {{ $t(\"huishang\") }}: {{ item.victim.huishang }}\n                        </span>\n                        <span>\n                            {{ $t(\"renxing\") }}: {{ item.victim.renxing }}\n                        </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </a-modal>\n</template>\n\n<script>\nimport { computed, onMounted, reactive, toRefs, watch } from \"vue\";\n\nexport default {\n    name: \"FightModal\",\n    props: {\n        modalVisible: {\n            default: false,\n            type: Boolean,\n        },\n        fightLog: {\n            default: [],\n            type: Array,\n        },\n        spoils: {\n            default: [],\n            type: Array,\n        },\n    },\n    emits: [\"submit\"],\n    setup(props, ctx) {\n        const state = reactive({});\n        const submit = () => {\n            ctx.emit(\"submit\");\n        };\n\n        // 计算 添加 血量百分比\n        const fightLogRender = computed(() => {\n            // 血量百分比\n            let aggressorHpPercent = 0,\n                victimHpPercent = 0;\n\n            return props.fightLog.map((i, index) => {\n                // 攻击者\n                // 奇数 主角 偶数 敌方\n                let aggressor = {}, // 攻击者\n                    victim = {}; // 被攻击者\n                if (index % 2 === 0) {\n                    aggressor = JSON.parse(JSON.stringify(i.myAttr));\n                    victim = JSON.parse(JSON.stringify(i.enemyAttr));\n                } else {\n                    aggressor = JSON.parse(JSON.stringify(i.enemyAttr));\n                    victim = JSON.parse(JSON.stringify(i.myAttr));\n                }\n\n                // 血量百分比\n                aggressorHpPercent = (aggressor.hp / aggressor.oriHp) * 100;\n                victimHpPercent = (victim.hp / victim.oriHp) * 100;\n\n                let res = {\n                    ...i,\n                    aggressor: {\n                        ...aggressor,\n                        hpPercent:\n                            aggressorHpPercent > 0\n                                ? aggressorHpPercent.toFixed(2)\n                                : \"0\",\n                    },\n                    victim: {\n                        ...victim,\n                        hpPercent:\n                            victimHpPercent > 0\n                                ? victimHpPercent.toFixed(2)\n                                : \"0\",\n                    },\n                };\n                return res;\n            });\n        });\n\n        return {\n            ...toRefs(props),\n            ...toRefs(state),\n            submit,\n            fightLogRender,\n        };\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.LogContent {\n    height: 400px;\n    overflow-y: auto;\n    margin: 20px auto;\n\n    .logs {\n        border-radius: 8px;\n        padding: 15px;\n        border: 1px solid #d2d2d2;\n        margin-bottom: 10px;\n\n        .logsItem {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n\n            > div {\n                width: 33.33%;\n            }\n\n            .oriHp {\n                width: 100px;\n                height: 10px;\n                border: 1px solid #d2d2d2;\n                position: relative;\n\n                .hp {\n                    display: inline-block;\n                    width: 50%;\n                    height: 100%;\n                    background-color: #ff5f37;\n                    position: absolute;\n                    left: 0;\n                }\n            }\n\n            .sub {\n                display: flex;\n                flex-direction: column;\n            }\n\n            .detail {\n                text-align: center;\n                //border-left: 1px solid #d2d2d2;\n                //border-right: 1px solid #d2d2d2;\n            }\n\n            .obj {\n                display: flex;\n                flex-direction: column;\n                align-items: end;\n\n                span {\n                    text-align: right;\n                }\n            }\n        }\n    }\n}\n</style>\n","const baseConfig = {\n    fight: {\n        toRolePoint: \"1\", // 对战玩家 消耗任务点\n        toMonster: \"1\", // 对战小怪 消耗任务点\n        toBoss: \"2\", // 对战boss 消耗任务\n    },\n};\n\nexport default baseConfig;\n","<template>\n    <a-modal\n        v-model:open=\"modalVisible\"\n        :title=\"$t('battleLog')\"\n        width=\"1024px\"\n    >\n        <p>进攻次数：{{ fightLog.length }} </p>\n        <p>获胜次数：{{ winLength }}</p>\n        <span>战利品：</span>\n        <span v-if=\"spoils.length === 0\">无</span>\n        <template v-else>\n            <span v-for=\"item in spoils\" style=\"margin-right: 5px\">\n                {{ item.name }}\n            </span>\n        </template>\n        <template #footer>\n            <a-button type=\"primary\" @click=\"submit\" @cancel=\"submit\">\n                关闭\n            </a-button>\n        </template>\n        <div class=\"LogContent\">\n            <div class=\"logs\" v-for=\"(item, index) in fightLogRender\">\n                <p>{{ $t(\"round\") }} {{ index + 1 }}</p>\n                <div class=\"logsItem\">\n                    <div class=\"sub\">\n                        <span>{{ item.sub }}</span>\n                        <span class=\"oriHp\">\n                            <span\n                                class=\"hp\"\n                                :style=\"`width: ${item.aggressor.hpPercent}px`\"\n                            >\n                            </span>\n                        </span>\n                        <span>{{ item.aggressor.hpPercent }}%</span>\n                        <span>\n                            hp:\n                            {{ item.aggressor.hp }}/{{ item.aggressor.oriHp }}\n                        </span>\n                        <span>\n                            {{ $t(\"waigong\") }}:\n                            {{ item.aggressor.waigong }}\n                        </span>\n                        <span>\n                            {{ $t(\"neigong\") }}: {{ item.aggressor.neigong }}\n                        </span>\n                        <span>\n                            {{ $t(\"waifang\") }}:\n                            {{ item.aggressor.waifang }}\n                        </span>\n                        <span>\n                            {{ $t(\"neifang\") }}:\n                            {{ item.aggressor.neifang }}\n                        </span>\n                        <span>\n                            {{ $t(\"huixin\") }}: {{ item.aggressor.huixin }}\n                        </span>\n                        <span>\n                            {{ $t(\"huishang\") }}:\n                            {{ item.aggressor.huishang }}\n                        </span>\n                        <span>\n                            {{ $t(\"renxing\") }}: {{ item.aggressor.renxing }}\n                        </span>\n                    </div>\n                    <div class=\"detail\">\n                        {{ item.aggressor.nickname }} 对\n                        {{ item.victim.nickname }} 造成了 {{ item.damage }}点\n                        {{ item.crit ? \"暴击伤害\" : \"伤害\" }}\n                    </div>\n                    <div class=\"obj\">\n                        <span>{{ item.obj }}</span>\n                        <span class=\"oriHp\">\n                            <span\n                                class=\"hp\"\n                                :style=\"`width: ${item.victim.hpPercent}px`\"\n                            >\n                            </span>\n                        </span>\n                        <span>{{ item.victim.hpPercent }}</span>\n                        <span>\n                            hp: {{ item.victim.hp }}/{{ item.victim.oriHp }}\n                        </span>\n                        <span>\n                            {{ $t(\"waigong\") }}: {{ item.victim.waigong }}\n                        </span>\n                        <span>\n                            {{ $t(\"neigong\") }}: {{ item.victim.neigong }}\n                        </span>\n                        <span>\n                            {{ $t(\"waifang\") }}: {{ item.victim.waifang }}\n                        </span>\n                        <span>\n                            {{ $t(\"neifang\") }}: {{ item.victim.neifang }}\n                        </span>\n                        <span>\n                            {{ $t(\"huixin\") }}: {{ item.victim.huixin }}\n                        </span>\n                        <span>\n                            {{ $t(\"huishang\") }}: {{ item.victim.huishang }}\n                        </span>\n                        <span>\n                            {{ $t(\"renxing\") }}: {{ item.victim.renxing }}\n                        </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </a-modal>\n</template>\n\n<script>\nimport { computed, onMounted, reactive, toRefs, watch } from \"vue\";\n\nexport default {\n    name: \"FightModal\",\n    props: {\n        modalVisible: {\n            default: false,\n            type: Boolean\n        },\n        fightLog: {\n            default: [],\n            type: Array\n        },\n        spoils: {\n            default: [],\n            type: Array\n        }\n    },\n    emits: [\"submit\"],\n    setup(props, ctx) {\n        const state = reactive({\n            userInfo: sessionStorage.getItem(\"userInfo\")\n        });\n        const submit = () => {\n            ctx.emit(\"submit\");\n        };\n\n        // 计算 添加 血量百分比\n        const fightLogRender = computed(() => {\n            // 血量百分比\n            let aggressorHpPercent = 0,\n                victimHpPercent = 0;\n\n            return props.fightLog.map((i, index) => {\n                // 攻击者\n                // 奇数 主角 偶数 敌方\n                let aggressor = {}, // 攻击者\n                    victim = {}; // 被攻击者\n                if (index % 2 === 0) {\n                    aggressor = JSON.parse(JSON.stringify(i.myAttr));\n                    victim = JSON.parse(JSON.stringify(i.enemyAttr));\n                } else {\n                    aggressor = JSON.parse(JSON.stringify(i.enemyAttr));\n                    victim = JSON.parse(JSON.stringify(i.myAttr));\n                }\n\n                // 血量百分比\n                aggressorHpPercent = (aggressor.hp / aggressor.oriHp) * 100;\n                victimHpPercent = (victim.hp / victim.oriHp) * 100;\n\n                let res = {\n                    ...i,\n                    aggressor: {\n                        ...aggressor,\n                        hpPercent:\n                            aggressorHpPercent > 0\n                                ? aggressorHpPercent.toFixed(2)\n                                : \"0\"\n                    },\n                    victim: {\n                        ...victim,\n                        hpPercent:\n                            victimHpPercent > 0\n                                ? victimHpPercent.toFixed(2)\n                                : \"0\"\n                    }\n                };\n                return res;\n            });\n        });\n\n        // 计算 获胜次数\n        const winLength = computed(() => {\n            return props.fightLog.filter(i => {\n                return i.sub === JSON.parse(state.userInfo).nickname;\n            }).length;\n        });\n\n        return {\n            ...toRefs(props),\n            ...toRefs(state),\n            submit,\n            fightLogRender,\n            winLength\n        };\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.LogContent {\n    height: 400px;\n    overflow-y: auto;\n    margin: 20px auto;\n\n    .logs {\n        border-radius: 8px;\n        padding: 15px;\n        border: 1px solid #d2d2d2;\n        margin-bottom: 10px;\n\n        .logsItem {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n\n            > div {\n                width: 33.33%;\n            }\n\n            .oriHp {\n                width: 100px;\n                height: 10px;\n                border: 1px solid #d2d2d2;\n                position: relative;\n\n                .hp {\n                    display: inline-block;\n                    width: 50%;\n                    height: 100%;\n                    background-color: #ff5f37;\n                    position: absolute;\n                    left: 0;\n                }\n            }\n\n            .sub {\n                display: flex;\n                flex-direction: column;\n            }\n\n            .detail {\n                text-align: center;\n                //border-left: 1px solid #d2d2d2;\n                //border-right: 1px solid #d2d2d2;\n            }\n\n            .obj {\n                display: flex;\n                flex-direction: column;\n                align-items: end;\n\n                span {\n                    text-align: right;\n                }\n            }\n        }\n    }\n}\n</style>\n","<template>\n    <!-- select -->\n    <div class=\"newMonster\">\n        <p class=\"choose\">\n            <span>选择任务：</span>\n            <a-select\n                v-model:value=\"monsterValue\"\n                show-search\n                :options=\"monsterList\"\n                @change=\"chooseMonster\"\n            ></a-select>\n        </p>\n        <p class=\"choose\">\n            <span>进攻次数：</span>\n            <a-input v-model:value=\"monsterTimes\"></a-input>\n        </p>\n        <a-button type=\"primary\" @click=\"toNewMonster\">\n            {{ $t(\"attack\") }}\n        </a-button>\n    </div>\n    <FightModal\n        :modalVisible=\"modalVisible\"\n        :fightLog=\"fightLog\"\n        :spoils=\"spoils\"\n        @submit=\"modalClose\"\n    ></FightModal>\n</template>\n<script>\nimport { useI18n } from \"vue-i18n\";\nimport { createVNode, onMounted, reactive, toRefs } from \"vue\";\nimport FightModal from \"@/components/fight/FightModal_new.vue\";\nimport { Modal } from \"ant-design-vue\";\nimport fightApi from \"@/assets/api/fightApi\";\n\nexport default {\n    name: \"Monster\", // 清缴小贼\n    components: { FightModal },\n    // 战斗\n    setup(props, ctx) {\n        const { t } = useI18n();\n        const state = reactive({\n            uid: sessionStorage.getItem(\"uid\"),\n\n            fightLog: [], // 战斗日志\n            spoils: [], // 战利品\n            modalVisible: false, // 战斗日志弹窗\n\n            // 清剿小贼 任务列表\n            monsterList: [\n                {\n                    label: t(\"gainWeapon\"),\n                    value: \"2\"\n                },\n                {\n                    label: t(\"gainArmor\"),\n                    value: \"3\"\n                },\n                {\n                    label: t(\"gainOrnament\"),\n                    value: \"4\"\n                }\n            ],\n            // 选中的任务类型\n            monsterValue: \"2\",\n            // 次数\n            monsterTimes: \"1\"\n        });\n\n        const toNewMonster = () => {\n            //  二次确认\n            Modal.confirm({\n                title: `${t(\"attackMonsterTips\")} ${state.monsterTimes} 次${t(\"toMonster\")}?`,\n                content: createVNode(\"div\", { style: \"color:red;\" }),\n                async onOk() {\n                    let res = await fightApi.toMonster({\n                        uid: state.uid,\n                        type: state.monsterValue,\n                        times: state.monsterTimes\n                    });\n                    state.fightLog = res.data.fightLog;\n                    state.spoils = res.data.spoils;\n                    state.modalVisible = true;\n\n                    // 获取角色信息\n                    // await getRoleInfo();\n                    ctx.emit(\"refresh\", \"这是子组件传递的数据\");\n                }\n            });\n        };\n\n        const chooseMonster = (value, role) => {\n            console.log(value, role);\n        };\n\n        // 关闭弹窗\n        const modalClose = () => {\n            state.modalVisible = false;\n        };\n\n        return {\n            ...toRefs(state),\n            chooseMonster,\n            modalClose,\n            toNewMonster\n        };\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.newMonster {\n    width: 300px;\n    float: left;\n    border: 1px solid #d2d2d2;\n    border-radius: 8px;\n    margin: 0 10px 10px;\n    padding: 15px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    .choose {\n        width: 250px;\n        display: flex;\n        align-items: center;\n\n        .ant-select,\n        .ant-input {\n            width: 150px;\n        }\n    }\n\n    .ant-btn {\n        width: 100px;\n    }\n}\n</style>\n","<template>\n    <div class=\"fight\">\n        <p class=\"missionPoint\">{{ $t(\"missionPoint\") }}：{{ missionPoint }}</p>\n        <div class=\"class\">\n            <!-- role -->\n            <div class=\"row\">\n                <p class=\"classTitle\">\n                    <span style=\"margin-right: 10px\">{{ $t(\"toRole\") }}</span>\n                    <span>\n                        {{ $t(\"useMissionPoint\") }}：\n                        {{ baseConfig.fight.toRolePoint }}\n                    </span>\n                </p>\n                <div class=\"toRole\">\n                    <a-select\n                        v-model:value=\"enemyId\"\n                        show-search\n                        placeholder=\"Select a person\"\n                        :options=\"roleOptionsList\"\n                        :filter-option=\"filterOption\"\n                        @change=\"chooseRole\"\n                    ></a-select>\n                    <a-button\n                        type=\"primary\"\n                        @click=\"toRole\"\n                        :disabled=\"!enemyId\"\n                    >\n                        {{ $t(\"attack\") }}\n                    </a-button>\n                </div>\n            </div>\n            <!-- monster -->\n            <div class=\"row\">\n                <p class=\"classTitle\">\n                    <span style=\"margin-right: 10px\">{{ $t(\"toMonster\") }}</span>\n                    <span>\n                        {{ $t(\"useMissionPoint\") }}：\n                        {{ baseConfig.fight.toMonster }}\n                    </span>\n                </p>\n                <Monster @refresh=\"getRoleInfo\"></Monster>\n                <!-- weapon -->\n                <div class=\"toMonster\">\n                    <p>{{ $t(\"gainWeapon\") }}</p>\n                    <p class=\"times\">\n                        <span>进攻次数：</span>\n                        <a-input v-model:value=\"weaponTimes\"></a-input>\n                    </p>\n                    <a-button type=\"primary\" @click=\"toMonster('2')\">\n                        {{ $t(\"attack\") }}\n                    </a-button>\n                    <a-button type=\"primary\" @click=\"toImitMonster\">\n                        {{ $t(\"imitAttack\") }}\n                    </a-button>\n                    <div>\n                        {{ $t(\"currentWinRate\") }} {{ currentMonsterWinRate }}\n                        <a-tooltip>\n                            <template #title>{{ $t(\"monsterTips\") }}</template>\n                            <QuestionCircleOutlined style=\"color: #d2d2d2\" />\n                        </a-tooltip>\n                    </div>\n                </div>\n                <!-- armor -->\n                <div class=\"toMonster\">\n                    <p>{{ $t(\"gainArmor\") }}</p>\n                    <p>\n                        {{ $t(\"useMissionPoint\") }}：\n                        {{ baseConfig.fight.toMonster }}\n                    </p>\n                    <a-button type=\"primary\" @click=\"toMonster('3')\">\n                        {{ $t(\"attack\") }}\n                    </a-button>\n                    <a-button type=\"primary\" @click=\"toImitMonster\">\n                        {{ $t(\"imitAttack\") }}\n                    </a-button>\n                    <div>\n                        {{ $t(\"currentWinRate\") }} {{ currentMonsterWinRate }}\n                        <a-tooltip>\n                            <template #title>{{ $t(\"monsterTips\") }}</template>\n                            <QuestionCircleOutlined style=\"color: #d2d2d2\" />\n                        </a-tooltip>\n                    </div>\n                </div>\n                <!-- ornament -->\n                <div class=\"toMonster\">\n                    <p>{{ $t(\"gainOrnament\") }}</p>\n                    <p>\n                        {{ $t(\"useMissionPoint\") }}：\n                        {{ baseConfig.fight.toMonster }}\n                    </p>\n                    <a-button type=\"primary\" @click=\"toMonster('4')\">\n                        {{ $t(\"attack\") }}\n                    </a-button>\n                    <a-button type=\"primary\" @click=\"toImitMonster\">\n                        {{ $t(\"imitAttack\") }}\n                    </a-button>\n                    <div>\n                        {{ $t(\"currentWinRate\") }} {{ currentMonsterWinRate }}\n                        <a-tooltip>\n                            <template #title>{{ $t(\"monsterTips\") }}</template>\n                            <QuestionCircleOutlined style=\"color: #d2d2d2\" />\n                        </a-tooltip>\n                    </div>\n                </div>\n            </div>\n            <!-- boss -->\n            <div class=\"row\">\n                <p class=\"classTitle\">\n                    <span style=\"margin-right: 10px\">{{ $t(\"toBoss\") }}</span>\n                    <span>\n                        {{ $t(\"useMissionPoint\") }}：{{\n                            baseConfig.fight.toBoss\n                        }}\n                    </span>\n                </p>\n                <div class=\"toBoss\">\n                    <a-button type=\"primary\" @click=\"toBoss\">\n                        {{ $t(\"attack\") }}\n                    </a-button>\n                    <a-button type=\"primary\" @click=\"toImitBoss\">\n                        {{ $t(\"imitAttack\") }}\n                    </a-button>\n                    <div>\n                        {{ $t(\"currentWinRate\") }} {{ currentBossWinRate }}\n                        <a-tooltip>\n                            <template #title>{{ $t(\"bossTips\") }}</template>\n                            <QuestionCircleOutlined style=\"color: #d2d2d2\" />\n                        </a-tooltip>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <FightModal\n        :modalVisible=\"modalVisible\"\n        :fightLog=\"fightLog\"\n        :spoils=\"spoils\"\n        @submit=\"modalClose\"\n    ></FightModal>\n</template>\n\n<script>\nimport { reactive, toRefs, onMounted, ref, createVNode, computed } from \"vue\";\nimport fightApi from \"@/assets/api/fightApi\";\nimport FightModal from \"@/components/fight/FightModal.vue\";\nimport { Modal } from \"ant-design-vue\";\nimport { QuestionCircleOutlined } from \"@ant-design/icons-vue\";\nimport roleApi from \"@/assets/api/roleApi\";\nimport baseConfig from \"@/assets/config/baseConfig.js\";\nimport { transItemText, transItemType } from \"@/assets/common/transItemText\";\nimport { useI18n } from \"vue-i18n\";\nimport Monster from \"@/components/fight/Monster.vue\";\n\nexport default {\n    name: \"Fight\",\n    components: { FightModal, Monster, QuestionCircleOutlined },\n    // 战斗\n    setup() {\n        const { t } = useI18n();\n        const state = reactive({\n            uid: sessionStorage.getItem(\"uid\"),\n            missionPoint: \"\",\n            enemyName: \"\",\n            enemyId: \"\",\n\n            roleOptionsList: [], // 人员列表\n\n            fightLog: [], // 战斗日志\n            spoils: [], // 战利品\n            currentMonsterWinRate: \"0%\", // monster 胜率\n            currentBossWinRate: \"0%\", // boss 胜率\n            modalVisible: false, // 战斗日志弹窗\n\n            // 进攻次数\n            weaponTimes: 1,\n            armorTimes: 1,\n            ornamentTimes: 1,\n            bossTimes: 1\n\n\n        });\n\n        onMounted(async () => {\n            // 获取所有角色列表\n            await getRoleList();\n            await toImitMonster();\n            await toImitBoss();\n        });\n\n        // 获取所有角色列表\n        const getRoleList = async () => {\n            let res = await roleApi.getRoleList({});\n            state.roleOptionsList = res.data\n                .filter((i) => i.uid !== state.uid)\n                .map((i) => {\n                    return {\n                        label: i.nickname,\n                        value: i.uid\n                    };\n                });\n            state.missionPoint = res.data.find(\n                (i) => i.uid === state.uid\n            ).missionpoint;\n        };\n\n        // 获取角色信息\n        const getRoleInfo = async () => {\n            let res = await roleApi.getInfo({\n                uid: state.uid\n            });\n            state.missionPoint = res.data.baseInfo.missionpoint;\n        };\n\n        // attack to role\n        const toRole = async () => {\n            //  二次确认\n            Modal.confirm({\n                title: `${t(\"attackRoleTips\")}：${state.enemyName}?`,\n                content: createVNode(\"div\", { style: \"color:red;\" }),\n                okText: t(\"attack\"),\n                cancelText: t(\"cancel\"),\n                async onOk() {\n                    let res = await fightApi.toRole({\n                        uid: state.uid,\n                        enemyId: String(state.enemyId)\n                    });\n                    state.fightLog = res.data.fightLog;\n                    state.spoils = res.data.spoils;\n                    state.modalVisible = true;\n\n                    // 获取角色信息\n                    await getRoleInfo();\n                }\n            });\n        };\n\n        const toMonster = async (type) => {\n            //  二次确认\n            Modal.confirm({\n                title: `${t(\"attackMonsterTips\")}：${t(\"toMonster\")}?`,\n                content: createVNode(\"div\", { style: \"color:red;\" }),\n                async onOk() {\n                    let res = await fightApi.toMonster({\n                        uid: state.uid,\n                        type: type\n                    });\n                    state.fightLog = res.data.fightLog;\n                    state.spoils = res.data.spoils;\n                    state.modalVisible = true;\n\n                    // 获取角色信息\n                    await getRoleInfo();\n                }\n            });\n        };\n\n        const toBoss = async () => {\n            //  二次确认\n            Modal.confirm({\n                title: `${t(\"attackMonsterTips\")}：${t(\"toBoss\")}?`,\n                content: createVNode(\"div\", { style: \"color:red;\" }),\n                async onOk() {\n                    let res = await fightApi.toBoss({\n                        uid: state.uid\n                    });\n                    state.fightLog = res.data.fightLog;\n                    state.spoils = res.data.spoils;\n                    state.modalVisible = true;\n\n                    // 获取角色信息\n                    await getRoleInfo();\n                }\n            });\n        };\n\n        const toImitMonster = async () => {\n            let res = await fightApi.toImitMonster({\n                uid: state.uid\n            });\n            let roleWin = 0;\n            let roleName = JSON.parse(\n                sessionStorage.getItem(\"userInfo\")\n            ).nickname;\n            for (let i = 0; i < res.data.fightLogs.length; i++) {\n                if (res.data.fightLogs[i].sub === roleName) {\n                    roleWin++;\n                }\n            }\n            state.currentMonsterWinRate = roleWin + \"%\";\n        };\n\n        const toImitBoss = async () => {\n            let res = await fightApi.toImitBoss({\n                uid: state.uid\n            });\n            let roleWin = 0;\n            let roleName = JSON.parse(\n                sessionStorage.getItem(\"userInfo\")\n            ).nickname;\n            for (let i = 0; i < res.data.fightLogs.length; i++) {\n                if (res.data.fightLogs[i].sub === roleName) {\n                    roleWin++;\n                }\n            }\n            state.currentBossWinRate = roleWin + \"%\";\n        };\n\n        // 选中 role\n        const chooseRole = (value, role) => {\n            // 记录选中对手的nickname\n            state.enemyName = state.roleOptionsList.find(\n                (i) => i.label === role.label\n            ).label;\n        };\n\n        // 过滤 人员列表\n        const filterOption = (input, option) => {\n            return option.value.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n        };\n\n        // 关闭弹窗\n        const modalClose = () => {\n            state.modalVisible = false;\n        };\n\n        return {\n            ...toRefs(state),\n            baseConfig,\n            filterOption,\n            chooseRole,\n            QuestionCircleOutlined,\n            toRole,\n            toMonster,\n            toImitMonster,\n            toImitBoss,\n            toBoss,\n            modalClose,\n            getRoleInfo\n        };\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.fight {\n    .missionPoint {\n        margin: 10px;\n    }\n\n    .class {\n        display: flex;\n        flex-direction: column;\n\n        .classTitle {\n            margin: 10px;\n        }\n\n        .toRole,\n        .toMonster,\n        .toBoss {\n            width: 250px;\n            float: left;\n            border: 1px solid #d2d2d2;\n            border-radius: 8px;\n            margin: 0 10px 10px;\n            padding: 15px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n\n            .times {\n                width: 200px;\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n\n                .ant-input {\n                    width: 100px;\n                }\n            }\n\n            .ant-select,\n            .ant-btn {\n                width: 200px;\n                margin-bottom: 10px;\n            }\n        }\n    }\n}\n</style>\n"],"names":["api","params","axios","_sfc_main","props","ctx","state","reactive","submit","fightLogRender","computed","aggressorHpPercent","victimHpPercent","i","index","aggressor","victim","toRefs","_hoisted_1","_withScopeId","_createElementVNode","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_createBlock","_component_a_modal","$props","$event","_ctx","_createVNode","_component_a_button","$setup","_toDisplayString","_openBlock","_createElementBlock","_Fragment","_renderList","item","_normalizeStyle","baseConfig","winLength","FightModal","t","useI18n","toNewMonster","Modal","createVNode","res","fightApi","chooseMonster","value","role","modalClose","_hoisted_2","_hoisted_4","_component_a_select","_component_a_input","_component_FightModal","Monster","QuestionCircleOutlined","onMounted","getRoleList","toImitMonster","toImitBoss","roleApi","getRoleInfo","toRole","toMonster","type","toBoss","roleWin","roleName","chooseRole","filterOption","input","option","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_component_Monster","_createTextVNode","_component_a_tooltip","_component_QuestionCircleOutlined"],"mappings":"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"}