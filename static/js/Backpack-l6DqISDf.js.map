{"version":3,"file":"Backpack-l6DqISDf.js","sources":["../../../node_modules/@ant-design/icons-svg/es/asn/SmileTwoTone.js","../../../node_modules/@ant-design/icons-vue/es/icons/SmileTwoTone.js","../../../src/assets/api/backpackApi.js","../../../src/assets/config/backpackMenu.js","../../../src/views/backpack/Backpack.vue"],"sourcesContent":["// This icon file is generated automatically.\nvar SmileTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zM288 421a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm224 272c-85.5 0-155.6-67.3-160-151.6a8 8 0 018-8.4h48.1c4.2 0 7.8 3.2 8.1 7.4C420 589.9 461.5 629 512 629s92.1-39.1 95.8-88.6c.3-4.2 3.9-7.4 8.1-7.4H664a8 8 0 018 8.4C667.6 625.7 597.5 693 512 693zm176-224a48.01 48.01 0 010-96 48.01 48.01 0 010 96z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm376 112h-48.1c-4.2 0-7.8 3.2-8.1 7.4-3.7 49.5-45.3 88.6-95.8 88.6s-92-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4zm-24-112a48 48 0 1096 0 48 48 0 10-96 0z\", \"fill\": primaryColor } }] }; }, \"name\": \"smile\", \"theme\": \"twotone\" };\nexport default SmileTwoTone;\n","import { createVNode as _createVNode } from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport SmileTwoToneSvg from \"@ant-design/icons-svg/es/asn/SmileTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SmileTwoTone = function SmileTwoTone(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _createVNode(AntdIcon, _objectSpread({}, p, {\n    \"icon\": SmileTwoToneSvg\n  }), null);\n};\n\nSmileTwoTone.displayName = 'SmileTwoTone';\nSmileTwoTone.inheritAttrs = false;\nexport default SmileTwoTone;","import axios from \"@/assets/api/axios.js\";\n\nconst api = {\n    getInfo: (params) => axios(\"postjson\", \"/getBackpackInfo\", params), // 获取背包信息\n    postEquipItem: (params) => axios(\"postjson\", \"/postEquipItem\", params), // 提交装备道具\n    postUnEquipItem: (params) => axios(\"postjson\", \"/postUnEquipItem\", params), // 提交卸下道具\n    postUseItem: (params) => axios(\"postjson\", \"/postUseItem\", params), // 提交使用道具\n};\nexport default api;\n","import { h } from \"vue\";\nimport { MailOutlined } from \"@ant-design/icons-vue\";\n\nconst backpackMenu = [\n    {\n        name: \"all\",\n        key: \"all\",\n        // icon: () => h(MailOutlined),\n    },\n    {\n        name: \"item\",\n        key: \"item\",\n    },\n    {\n        name: \"weapon\",\n        key: \"weapon\",\n    },\n    {\n        name: \"armor\",\n        key: \"armor\",\n    },\n    {\n        name: \"ornament\",\n        key: \"ornament\",\n    },\n    {\n        name: \"mission\",\n        key: \"mission\",\n    },\n];\n\nexport default backpackMenu;\n","<template>\n    <div class=\"backpack\">\n        <a-menu\n            :selectedKeys=\"selectedKeys\"\n            mode=\"horizontal\"\n            :items=\"menuList\"\n            @click=\"menuClick\"\n        />\n        <div class=\"content\">\n            <div v-for=\"item in backpack\" class=\"items\">\n                <p class=\"name\">{{ item.name }}</p>\n                <p v-for=\"item in item.attr\" class=\"attr\">\n                    <span class=\"br\"> - </span>\n                    <span>{{ item.nameText }}: {{ item.desc }}</span>\n                </p>\n                <p>{{ $t(\"itemTpye\") }}：{{ item.typeText }}</p>\n                <p class=\"status\">\n                    <a-button\n                        v-if=\"item.status === '1'\"\n                        type=\"primary\"\n                        @click=\"useItem(item)\"\n                    >\n                        {{ $t(\"use\") }}\n                    </a-button>\n                    <a-button\n                        v-if=\"item.status === '2'\"\n                        type=\"primary\"\n                        @click=\"equipItem(item)\"\n                    >\n                        {{ $t(\"equip\") }}\n                    </a-button>\n                    <a-button v-if=\"item.status === '21'\" type=\"text\" disabled>\n                        E\n                    </a-button>\n                    <a-button\n                        v-if=\"item.status === '11'\"\n                        type=\"primary\"\n                        disabled\n                    >\n                        {{ $t(\"used\") }}\n                    </a-button>\n                    <a-button\n                        v-if=\"item.status === '21'\"\n                        type=\"primary\"\n                        style=\"margin-left: 5px\"\n                        @click=\"unEquipItem(item)\"\n                    >\n                        {{ $t(\"equiped\") }}\n                    </a-button>\n                </p>\n            </div>\n            <a-result :title=\"$t('noItem')\" v-if=\"backpack.length === 0\">\n                <template #icon></template>\n            </a-result>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { reactive, toRefs, onMounted, ref, h, watch } from \"vue\";\nimport backpackApi from \"@/assets/api/backpackApi\";\nimport backpackMenu from \"@/assets/config/backpackMenu.js\";\nimport { useI18n } from \"vue-i18n\";\nimport { transItemText, transItemType } from \"@/assets/common/transItemText\";\nimport { SmileTwoTone } from \"@ant-design/icons-vue\";\n\nexport default {\n    name: \"Backpack\", // 背包\n    setup() {\n        const { t, locale } = useI18n();\n        const state = reactive({\n            menuList: backpackMenu,\n            selectedKeys: [\"all\"],\n            backpack: [],\n        });\n\n        onMounted(async () => {\n            // 根据语言修改 menu label\n            changeLocaleLabel();\n            // 获取背包信息\n            await getBackpackInfo();\n        });\n\n        // 获取背包信息\n        const getBackpackInfo = async () => {\n            let res = await backpackApi.getInfo({\n                uid: sessionStorage.getItem(\"uid\"),\n                type: state.selectedKeys[0],\n            });\n            state.backpack = res.data.map((i) => {\n                return {\n                    ...i,\n                    attr: transItemText(i.attr),\n                    typeText: transItemType(i.type),\n                };\n            });\n            console.log(state.backpack);\n        };\n\n        // 提交装备道具\n        const equipItem = async (item) => {\n            let res = await backpackApi.postEquipItem({\n                id: item.id,\n                uid: sessionStorage.getItem(\"uid\"),\n                type: item.type,\n            });\n\n            // 获取背包信息\n            await getBackpackInfo();\n        };\n\n        // 提交卸下道具\n        const unEquipItem = async (item) => {\n            let res = await backpackApi.postUnEquipItem({\n                id: item.id,\n                uid: sessionStorage.getItem(\"uid\"),\n                type: item.type,\n            });\n\n            // 获取背包信息\n            await getBackpackInfo();\n        };\n\n        // 提交使用道具\n        const useItem = async (item) => {\n            let res = await backpackApi.postUseItem({\n                id: item.id,\n            });\n\n            // 获取背包信息\n            await getBackpackInfo();\n        };\n\n        // 菜单点击\n        const menuClick = async (item, key, keyPath) => {\n            // 当前选中项\n            state.selectedKeys = [item.key];\n            // 获取背包信息\n            await getBackpackInfo();\n        };\n\n        // 监听语言改变\n        watch(\n            locale,\n            () => {\n                // 根据语言修改 menu label\n                changeLocaleLabel();\n            },\n            { deep: true }\n        );\n\n        // 根据语言修改 menu label\n        const changeLocaleLabel = () => {\n            for (let key in state.menuList) {\n                let text = t(state.menuList[key].key);\n                state.menuList[key].label = text;\n                state.menuList[key].title = text;\n            }\n        };\n\n        return {\n            ...toRefs(state),\n            equipItem,\n            unEquipItem,\n            useItem,\n            menuClick,\n            SmileTwoTone,\n        };\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.backpack {\n    margin: 10px;\n\n    .content {\n        margin-top: 10px;\n        overflow: hidden;\n\n        .items {\n            float: left;\n            border-radius: 8px;\n            padding: 15px 15px 0;\n            border: 1px solid #d2d2d2;\n            margin-right: 10px;\n            margin-bottom: 10px;\n\n            .br {\n                padding: 0 5px;\n            }\n\n            .status {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n        }\n    }\n}\n</style>\n"],"names":["SmileTwoTone","primaryColor","secondaryColor","_objectSpread","target","i","source","ownKeys","sym","key","_defineProperty","obj","value","props","context","p","_createVNode","AntdIcon","SmileTwoToneSvg","api","params","axios","backpackMenu","_sfc_main","t","locale","useI18n","state","reactive","onMounted","changeLocaleLabel","getBackpackInfo","res","backpackApi","transItemText","transItemType","equipItem","item","unEquipItem","useItem","menuClick","keyPath","watch","text","toRefs","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_withScopeId","_createElementVNode","_hoisted_7","_openBlock","_createElementBlock","_component_a_menu","_ctx","$setup","_Fragment","_renderList","_toDisplayString","_createBlock","_component_a_button","$event","_component_a_result"],"mappings":"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","x_google_ignoreList":[0,1]}