{"version":3,"file":"Setting-Gbpx6YX_.js","sources":["../../../src/views/setting/Setting.vue"],"sourcesContent":["<template>\n    <div class=\"setting\">\n        <div class=\"nickname\">\n            <span>name：</span>\n            <a-input v-model:value=\"nickname\" placeholder=\"Basic usage\" />\n            <a-button type=\"primary\" @click=\"modifyRole\">保存</a-button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { reactive, toRefs, onMounted, ref } from \"vue\";\nimport roleApi from \"@/assets/api/roleApi\";\nimport { router } from \"@/router/router\";\nimport { message } from \"ant-design-vue\";\n\nexport default {\n    name: \"Setting\", // 设置\n    setup() {\n        const state = reactive({\n            nickname: \"\",\n            uid: \"\",\n        });\n\n        onMounted(async () => {\n            let userInfo = JSON.parse(sessionStorage.getItem(\"userInfo\"));\n            state.nickname = userInfo.nickname;\n            state.uid = userInfo.uid;\n        });\n\n        // 修改信息\n        const modifyRole = async () => {\n            let res = await roleApi.postModifyRole({\n                uid: state.uid,\n                nickname: state.nickname,\n            });\n            message.success(\"修改成功！\");\n            router.push(\"/center/role\");\n        };\n\n        return {\n            ...toRefs(state),\n            modifyRole,\n        };\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.setting {\n    padding: 20px;\n\n    .nickname {\n        display: flex;\n        align-items: center;\n    }\n\n    .ant-input {\n        width: 200px;\n        margin-right: 10px;\n    }\n}\n</style>\n"],"names":["_sfc_main","state","reactive","onMounted","userInfo","modifyRole","roleApi","message","router","toRefs","_hoisted_1","_hoisted_2","_hoisted_3","_withScopeId","_createElementVNode","_openBlock","_createElementBlock","_createVNode","_component_a_input","_ctx","$event","_component_a_button","$setup"],"mappings":"2MAgBA,MAAKA,EAAU,CACX,KAAM,UACN,OAAQ,CACJ,MAAMC,EAAQC,EAAS,CACnB,SAAU,GACV,IAAK,EACT,CAAC,EAEDC,EAAU,SAAY,CAClB,IAAIC,EAAW,KAAK,MAAM,eAAe,QAAQ,UAAU,CAAC,EAC5DH,EAAM,SAAWG,EAAS,SAC1BH,EAAM,IAAMG,EAAS,GACzB,CAAC,EAGD,MAAMC,EAAa,SAAY,CACjB,MAAMC,EAAQ,eAAe,CACnC,IAAKL,EAAM,IACX,SAAUA,EAAM,QACpB,CAAC,EACDM,EAAQ,QAAQ,OAAO,EACvBC,EAAO,KAAK,cAAc,GAG9B,MAAO,CACH,GAAGC,EAAOR,CAAK,EACf,WAAAI,EAEP,CACL,0CA5CSK,EAAA,CAAA,MAAM,SAAS,EACXC,EAAA,CAAA,MAAM,UAAU,EACjBC,EAAAC,EAAA,IAAAC,EAAkB,YAAZ,QAAK,EAAA,CAAA,MAEkC,IAAE,+DAJvD,OAAAC,EAAA,EAAAC,EAMM,MANNN,EAMM,CALFI,EAIM,MAJNH,EAIM,CAHFC,EACAK,EAA8DC,EAAA,CAA7C,MAAOC,EAAQ,yCAARA,EAAQ,SAAAC,GAAE,YAAY,iCAC9CH,EAA0DI,EAAA,CAAhD,KAAK,UAAW,QAAOC,EAAU,uBAAE,IAAE"}