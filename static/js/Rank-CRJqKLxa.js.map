{"version":3,"file":"Rank-CRJqKLxa.js","sources":["../../../src/assets/api/rankApi.js","../../../src/views/rank/Rank.vue"],"sourcesContent":["import axios from \"@/assets/api/axios.js\";\n\nconst api = {\n    getList: (params) => axios(\"postjson\", \"/getRankList\", params),\n};\nexport default api;\n","<template>\n    <div class=\"backpack\">\n        <p>rank</p>\n        <a-table :columns=\"columns\" :data-source=\"rankList\">\n            <template #headerCell=\"{ column }\">\n                <template v-if=\"column.key === 'name'\">\n                    <span>\n                        <smile-outlined />\n                        Name\n                    </span>\n                </template>\n            </template>\n            <template #bodyCell=\"{ column, record, index, columnIndex }\">\n                <template v-if=\"column.key === 'ranking'\">\n                    <a> {{ index + 1 }} </a>\n                </template>\n                <template v-else-if=\"column.key === 'action'\">\n                    <a-button type=\"primary\" disabled>挑战</a-button>\n                </template>\n            </template>\n        </a-table>\n    </div>\n</template>\n\n<script>\nimport { reactive, toRefs, onMounted, ref } from \"vue\";\nimport rankApi from \"@/assets/api/rankApi\";\nimport { useI18n } from \"vue-i18n\";\n\nexport default {\n    name: \"Rank\", // 排行\n    setup() {\n        const { t } = useI18n();\n        const state = reactive({\n            rankList: [],\n            columns: [\n                {\n                    title: \"排名\",\n                    dataIndex: \"ranking\",\n                    key: \"ranking\",\n                },\n                {\n                    title: \"昵称\",\n                    dataIndex: \"nickname\",\n                    key: \"nickname\",\n                },\n                {\n                    title: \"灵气（额外）\",\n                    dataIndex: \"attrText\",\n                    key: \"attrText\",\n                },\n                {\n                    title: \"操作\",\n                    key: \"action\",\n                },\n            ],\n        });\n\n        onMounted(async () => {\n            await getRankList();\n        });\n\n        const getRankList = async () => {\n            let res = await rankApi.getList({});\n            console.log(res.data);\n            state.rankList = res.data.map((i) => {\n                return {\n                    ...i,\n                    attrText: `${i.attackpoint}（${i.extraTotal}）`,\n                };\n            });\n        };\n\n        return {\n            ...toRefs(state),\n        };\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.backpack {\n    padding: 20px;\n}\n</style>\n"],"names":["api","params","axios","_sfc_main","useI18n","state","reactive","onMounted","getRankList","res","rankApi","i","toRefs","_hoisted_1","_hoisted_2","_withScopeId","_createElementVNode","_openBlock","_createElementBlock","_createVNode","_component_a_table","_ctx","_withCtx","column","_hoisted_3","_component_smile_outlined","record","index","columnIndex","_createBlock","_component_a_button"],"mappings":"gMAEA,MAAMA,EAAM,CACR,QAAUC,GAAWC,EAAM,WAAY,eAAgBD,CAAM,CACjE,ECyBKE,EAAU,CACX,KAAM,OACN,OAAQ,CACUC,EAAS,EACvB,MAAMC,EAAQC,EAAS,CACnB,SAAU,CAAE,EACZ,QAAS,CACL,CACI,MAAO,KACP,UAAW,UACX,IAAK,SACR,EACD,CACI,MAAO,KACP,UAAW,WACX,IAAK,UACR,EACD,CACI,MAAO,SACP,UAAW,WACX,IAAK,UACR,EACD,CACI,MAAO,KACP,IAAK,QACR,CACJ,CACL,CAAC,EAEDC,EAAU,SAAY,CAClB,MAAMC,EAAW,CACrB,CAAC,EAED,MAAMA,EAAc,SAAY,CAC5B,IAAIC,EAAM,MAAMC,EAAQ,QAAQ,CAAE,CAAA,EAClC,QAAQ,IAAID,EAAI,IAAI,EACpBJ,EAAM,SAAWI,EAAI,KAAK,IAAKE,IACpB,CACH,GAAGA,EACH,SAAU,GAAGA,EAAE,WAAW,IAAIA,EAAE,UAAU,KAEjD,GAGL,MAAO,CACH,GAAGC,EAAOP,CAAK,EAEtB,CACL,0CA5ESQ,EAAA,CAAA,MAAM,UAAU,EACjBC,EAAAC,EAAA,IAAAC,EAAW,SAAR,OAAI,EAAA,CAAA,gBAK2B,QAEtB,gBAQkC,IAAE,qFAhBpD,OAAAC,EAAA,EAAAC,EAoBM,MApBNL,EAoBM,CAnBFC,EACAK,EAiBUC,EAAA,CAjBA,QAASC,EAAO,QAAG,cAAaA,EAAQ,WACnC,WAAUC,EACjB,CAKW,CANU,OAAAC,KAAM,CACXA,EAAO,MAAG,YACtBL,EAGO,OAAAM,EAAA,CAFHL,EAAkBM,CAAA,kBAKnB,SAAQH,EACf,CAEW,CAHQ,OAAAC,EAAQ,OAAAG,EAAQ,MAAAC,EAAO,YAAAC,KAAW,CACrCL,EAAO,MAAG,WACtBN,EAAA,EAAAC,EAAwB,QAAjBS,EAAK,CAAA,EAAA,CAAA,GAEKJ,EAAO,MAAG,cAC3BM,EAA+CC,EAAA,OAArC,KAAK,UAAU,SAAA,eAAS,IAAE"}