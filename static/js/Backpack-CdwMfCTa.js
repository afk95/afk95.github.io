import{a as _}from"./axios-BA-LBiZu.js";import{b as T,I as E,_ as q,m as x,r as z,o as B,n as L,t as O,c as d,a as m,F as v,D as C,A as l,w as p,E as u,f as g,g as c,d as f,i as y,p as j,h as M}from"./index-B_nqqRHS.js";import{t as N,a as P}from"./transItemText-6-xW7tNd.js";var U={icon:function(s,a){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:s}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zM288 421a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm224 272c-85.5 0-155.6-67.3-160-151.6a8 8 0 018-8.4h48.1c4.2 0 7.8 3.2 8.1 7.4C420 589.9 461.5 629 512 629s92.1-39.1 95.8-88.6c.3-4.2 3.9-7.4 8.1-7.4H664a8 8 0 018 8.4C667.6 625.7 597.5 693 512 693zm176-224a48.01 48.01 0 010-96 48.01 48.01 0 010 96z",fill:a}},{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm376 112h-48.1c-4.2 0-7.8 3.2-8.1 7.4-3.7 49.5-45.3 88.6-95.8 88.6s-92-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4zm-24-112a48 48 0 1096 0 48 48 0 10-96 0z",fill:s}}]}},name:"smile",theme:"twotone"};function S(e){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?Object(arguments[s]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable}))),n.forEach(function(r){K(e,r,a[r])})}return e}function K(e,s,a){return s in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}var b=function(s,a){var n=S({},s,a.attrs);return T(E,S({},n,{icon:U}),null)};b.displayName="SmileTwoTone";b.inheritAttrs=!1;const h={getInfo:e=>_("postjson","/getBackpackInfo",e),postEquipItem:e=>_("postjson","/postEquipItem",e),postUnEquipItem:e=>_("postjson","/postUnEquipItem",e),postUseItem:e=>_("postjson","/postUseItem",e)},V=[{name:"all",key:"all"},{name:"item",key:"item"},{name:"weapon",key:"weapon"},{name:"armor",key:"armor"},{name:"ornament",key:"ornament"},{name:"mission",key:"mission"}],$={name:"Backpack",setup(){const{t:e,locale:s}=x(),a=z({menuList:V,selectedKeys:["all"],backpack:[]});B(async()=>{k(),await n()});const n=async()=>{let t=await h.getInfo({uid:sessionStorage.getItem("uid"),type:a.selectedKeys[0]});a.backpack=t.data.map(o=>({...o,attr:N(o.attr),typeText:P(o.type)})),console.log(a.backpack)},r=async t=>{await h.postEquipItem({id:t.id,uid:sessionStorage.getItem("uid"),type:t.type}),await n()},w=async t=>{await h.postUnEquipItem({id:t.id,uid:sessionStorage.getItem("uid"),type:t.type}),await n()},I=async t=>{await h.postUseItem({id:t.id}),await n()},i=async(t,o,ae)=>{a.selectedKeys=[t.key],await n()};L(s,()=>{k()},{deep:!0});const k=()=>{for(let t in a.menuList){let o=e(a.menuList[t].key);a.menuList[t].label=o,a.menuList[t].title=o}};return{...O(a),equipItem:r,unEquipItem:w,useItem:I,menuClick:i,SmileTwoTone:b}}},D=e=>(j("data-v-a310698c"),e=e(),M(),e),A={class:"backpack"},F={class:"content"},H={class:"items"},R={class:"name"},G={class:"attr"},J=D(()=>m("span",{class:"br"}," - ",-1)),Q={class:"status"},W=y(" 使用 "),X=y(" 装备 "),Y=y(" E "),Z=y(" 已使用 "),ee=y(" 卸下 ");function te(e,s,a,n,r,w){const I=g("a-menu"),i=g("a-button"),k=g("a-result");return c(),d("div",A,[T(I,{selectedKeys:e.selectedKeys,mode:"horizontal",items:e.menuList,onClick:n.menuClick},null,8,["selectedKeys","items","onClick"]),m("div",F,[(c(!0),d(v,null,C(e.backpack,t=>(c(),d("div",H,[m("p",R,f(t.name),1),(c(!0),d(v,null,C(t.attr,o=>(c(),d("p",G,[J,m("span",null,f(o.nameText)+": "+f(o.desc),1)]))),256)),m("p",null,"类型："+f(t.typeText),1),m("p",Q,[t.status==="1"?(c(),l(i,{key:0,type:"primary",onClick:o=>n.useItem(t)},{default:p(()=>[W]),_:2},1032,["onClick"])):u("",!0),t.status==="2"?(c(),l(i,{key:1,type:"primary",onClick:o=>n.equipItem(t)},{default:p(()=>[X]),_:2},1032,["onClick"])):u("",!0),t.status==="21"?(c(),l(i,{key:2,type:"text",disabled:""},{default:p(()=>[Y]),_:1})):u("",!0),t.status==="11"?(c(),l(i,{key:3,type:"primary",disabled:""},{default:p(()=>[Z]),_:1})):u("",!0),t.status==="21"?(c(),l(i,{key:4,type:"primary",style:{"margin-left":"5px"},onClick:o=>n.unEquipItem(t)},{default:p(()=>[ee]),_:2},1032,["onClick"])):u("",!0)])]))),256)),e.backpack.length===0?(c(),l(k,{key:0,title:"No Item!"},{icon:p(()=>[]),_:1})):u("",!0)])])}const ce=q($,[["render",te],["__scopeId","data-v-a310698c"]]);export{ce as default};
//# sourceMappingURL=Backpack-CdwMfCTa.js.map
