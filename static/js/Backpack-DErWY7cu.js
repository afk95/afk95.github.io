import{a as f}from"./axios-DJuMnALa.js";import{b as q,I as E,_ as $,m as z,r as j,o as B,n as L,t as O,c as I,a as y,F as C,D as S,A as u,w as m,E as d,f as b,g as c,d as i,i as k,p as D,h as M}from"./index-PFhGpLVs.js";import{t as P,a as U}from"./transItemText-DoyWbVnQ.js";var N={icon:function(n,a){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:n}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zM288 421a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm224 272c-85.5 0-155.6-67.3-160-151.6a8 8 0 018-8.4h48.1c4.2 0 7.8 3.2 8.1 7.4C420 589.9 461.5 629 512 629s92.1-39.1 95.8-88.6c.3-4.2 3.9-7.4 8.1-7.4H664a8 8 0 018 8.4C667.6 625.7 597.5 693 512 693zm176-224a48.01 48.01 0 010-96 48.01 48.01 0 010 96z",fill:a}},{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm376 112h-48.1c-4.2 0-7.8 3.2-8.1 7.4-3.7 49.5-45.3 88.6-95.8 88.6s-92-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4zm-24-112a48 48 0 1096 0 48 48 0 10-96 0z",fill:n}}]}},name:"smile",theme:"twotone"};function T(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?Object(arguments[n]):{},s=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable}))),s.forEach(function(l){x(e,l,a[l])})}return e}function x(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}var v=function(n,a){var s=T({},n,a.attrs);return q(E,T({},s,{icon:N}),null)};v.displayName="SmileTwoTone";v.inheritAttrs=!1;const _={getInfo:e=>f("postjson","/getBackpackInfo",e),postEquipItem:e=>f("postjson","/postEquipItem",e),postUnEquipItem:e=>f("postjson","/postUnEquipItem",e),postUseItem:e=>f("postjson","/postUseItem",e),postDissolveItem:e=>f("postjson","/postDissolveItem",e)},K=[{name:"all",key:"all"},{name:"item",key:"item"},{name:"weapon",key:"weapon"},{name:"armor",key:"armor"},{name:"ornament",key:"ornament"},{name:"mission",key:"mission"}],V={name:"Backpack",setup(){const{t:e,locale:n}=z(),a=j({menuList:K,selectedKeys:["all"],backpack:[]});B(async()=>{o(),await s()});const s=async()=>{let t=await _.getInfo({uid:sessionStorage.getItem("uid"),type:a.selectedKeys[0]});a.backpack=t.data.map(p=>({...p,attr:P(p.attr),typeText:U(p.type)})),console.log(a.backpack)},l=async t=>{await _.postDissolveItem({id:t.id,uid:sessionStorage.getItem("uid")}),await s()},w=async t=>{await _.postEquipItem({id:t.id,uid:sessionStorage.getItem("uid"),type:t.type}),await s()},g=async t=>{await _.postUnEquipItem({id:t.id,uid:sessionStorage.getItem("uid"),type:t.type}),await s()},r=async t=>{await _.postUseItem({id:t.id}),await s()},h=async(t,p,Z)=>{a.selectedKeys=[t.key],await s()};L(n,()=>{o()},{deep:!0});const o=()=>{for(let t in a.menuList){let p=e(a.menuList[t].key);a.menuList[t].label=p,a.menuList[t].title=p}};return{...O(a),equipItem:w,unEquipItem:g,useItem:r,menuClick:h,SmileTwoTone:v,dissolveItem:l}}},A=e=>(D("data-v-5e5180c8"),e=e(),M(),e),F={class:"backpack"},H={class:"content"},R={class:"items"},G={class:"name"},J={class:"attr"},Q=A(()=>y("span",{class:"br"}," - ",-1)),W={class:"status"},X=k(" E ");function Y(e,n,a,s,l,w){const g=b("a-menu"),r=b("a-button"),h=b("a-result");return c(),I("div",F,[q(g,{selectedKeys:e.selectedKeys,mode:"horizontal",items:e.menuList,onClick:s.menuClick},null,8,["selectedKeys","items","onClick"]),y("div",H,[(c(!0),I(C,null,S(e.backpack,o=>(c(),I("div",R,[y("p",G,i(o.name),1),(c(!0),I(C,null,S(o.attr,t=>(c(),I("p",J,[Q,y("span",null,i(t.nameText)+": "+i(t.desc),1)]))),256)),y("p",null,i(e.$t("itemTpye"))+"ï¼š"+i(o.typeText),1),y("p",W,[o.status==="1"?(c(),u(r,{key:0,type:"primary",onClick:t=>s.useItem(o)},{default:m(()=>[k(i(e.$t("use")),1)]),_:2},1032,["onClick"])):d("",!0),o.status==="2"?(c(),u(r,{key:1,type:"primary",onClick:t=>s.equipItem(o)},{default:m(()=>[k(i(e.$t("equip")),1)]),_:2},1032,["onClick"])):d("",!0),o.status==="2"?(c(),u(r,{key:2,type:"primary",style:{"margin-left":"10px"},onClick:t=>s.dissolveItem(o)},{default:m(()=>[k(i(e.$t("dissolve")),1)]),_:2},1032,["onClick"])):d("",!0),o.status==="21"?(c(),u(r,{key:3,type:"text",disabled:""},{default:m(()=>[X]),_:1})):d("",!0),o.status==="11"?(c(),u(r,{key:4,type:"primary",disabled:""},{default:m(()=>[k(i(e.$t("used")),1)]),_:1})):d("",!0),o.status==="21"?(c(),u(r,{key:5,type:"primary",style:{"margin-left":"5px"},onClick:t=>s.unEquipItem(o)},{default:m(()=>[k(i(e.$t("equiped")),1)]),_:2},1032,["onClick"])):d("",!0)])]))),256)),e.backpack.length===0?(c(),u(h,{key:0,title:e.$t("noItem")},{icon:m(()=>[]),_:1},8,["title"])):d("",!0)])])}const se=$(V,[["render",Y],["__scopeId","data-v-5e5180c8"]]);export{se as default};
//# sourceMappingURL=Backpack-DErWY7cu.js.map
